server:
  port: 13000

spring:
  application:
    name: device-manager-mqtt

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://47.96.4.246:3306/mqtt_manager?useUnicode=true&useSSL=false&characterEncoding=utf8
    username: root
    password: 12345678Aa

  data:
    redis:
      host: 122.152.194.133
      port: 6379
      database: 0
      timeout: 5000ms
      lettuce:
        pool:
          max-active: 20
          max-idle: 10
          min-idle: 2
          max-wait: 2000ms

mybatis:
  configuration:
    map-underscore-to-camel-case: true
  mapper-locations: classpath:mapper/*.xml

knife4j:
  enable: true
  production: false


lpd:
  mqtt:
    # 连接参数
    broker: tcp://122.152.194.133:1883
    client-id: NumberOne1
    username: admin
    password: admin

    # 连接行为
    connection-timeout: 10       # 单位：秒
    keep-alive-interval: 20      # 单位：秒
    automatic-reconnect: true
    clean-session: false         # false = 持久会话，断线后可恢复订阅

    # 默认 QoS（发送和接收都可使用）
    qos: 1

    # 要订阅的主题列表（支持通配符）
    topics:
      - device/1/pub
      - singleLight/2/pub
      - mostLight/3/pub

    # 可选：遗嘱消息（可选，断线时 broker 会发布）
    # will-topic: device/server/will
    # will-payload: offline
    # will-qos: 1
    # will-retained: true

    # 可选：最大重连间隔（秒），默认 128
    # max-reconnect-delay: 128